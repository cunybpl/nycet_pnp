{{ $pages := .pages }}
<!-- PLANT GUIDES -->
<section id="textPlants" class="tabcontent">
  <div class="search-header container d-flex justify-content-between mt-4">
    <div>
      <h2 id="guide-header-plants">
        All Plants
      </h2>
      <details class="guide-header-description">
        <summary>Plants are centralized systems that work together to maintain occupant comfort and provide essential functions in a facility such as air, water and electricity distribution. Plants are made up of various systems and components that serve different functions.
          <span id="opener">More</span>
        </summary>
        The operation and efficiency of the systems and components determines the energy consumption and environmental impact of the plant. Monitoring the systems and components can help the City better understand how energy is used, where improvements can be made to save energy and cut costs, and meet efficiency and environmental goals. Read more about plants below.
        <span id="closer" onclick="this.parentElement.removeAttribute('open')">Less</span>
      </details>
    </div>
  </div>
  <div class="container px-0 mt-4 d-flex flex-wrap justify-content-between">
    {{ range .guides.plants.documents }}
      {{ $guideTitle := .title }}
      {{ $guideId := replace (urlize .title | lower) " " "-" }}
      {{ $guideType := .type }}
      <div 
        id="{{ $guideType }}-{{ $guideId }}" 
        class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
      >
      {{ range $pages }}
        {{ if eq .Title $guideTitle }}
          {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType) }}
        {{ end }}
      {{ end }}
      </div>
    {{ end }}
  </div>
  <div id="load-more-container-plant" class="my-4 text-center">
    <a id="load-more-plants" class="btn btn-dark" onclick="loadMoreGuides(PLANTS)">Load More Plants</a>
  </div>
</section>
<!-- SYSTEM GUIDES -->
<section id="textSystems" class="tabcontent">
  <div class="search-header container d-flex justify-content-between mt-4">
    <div>
      <h2 id="guide-header-systems">
        All Systems
      </h2>
      <details class="guide-header-description">
        <summary>Systems are equipment in a facility that support the operation of a plant. Systems play a role in many functions such as supplying conditioned air, electricity, hot and cold water.
          <span id="opener">More</span>
        </summary>
        Some systems can be measured to see how much energy it uses which helps in estimating its annual energy consumption. By monitoring these systems it's easier to identify inefficiencies, optimize performance, and ensure that energy is being used as effectively as possible to meet sustainability goals. Other systems are made up of several components that support the operation of the system. All components should be measured in that system to fully asses its energy consumption. Read more about systems below.
        <span id="closer" onclick="this.parentElement.removeAttribute('open')">Less</span>
      </details>
    </div>
  </div>
  <div class="container px-0 mt-4 d-flex flex-wrap justify-content-between">
    {{ range .guides.systems.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div id="load-more-container-system" class="my-4 text-center">
    <a id="load-more-systems" class="btn btn-dark" onclick="loadMoreGuides(SYSTEMS)">Load More Systems</a>
  </div>
</section>
<!-- COMPONENT GUIDES -->
<section id="textComponents" class="tabcontent">
  <div class="search-header container d-flex justify-content-between mt-4">
    <div>
      <h2 id="guide-header-components">
        All Components
      </h2>
      <details class="guide-header-description">
        <summary>Placeholder for definition text that will always be visible.
          <span id="opener">More</span>
        </summary>
        Hidden definition text that will be revealed when MORE is clicked and hidden when LESS is clicked.
        <span id="closer" onclick="this.parentElement.removeAttribute('open')">Less</span>
      </details>
    </div>
  </div>
  <div class="container px-0 mt-4 d-flex flex-wrap justify-content-between">
    {{ range .guides.components.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div id="load-more-container-component" class="my-4 text-center">
    <a id="load-more-components" class="btn btn-dark" onclick="loadMoreGuides(COMPONENTS)">Load More Components</a>
  </div>
</section>
<!-- CALCULATION METHODOLOGIES -->
<section id="textCalculations" class="tabcontent">
  <div class="search-header container d-flex justify-content-between mt-4">
    <div>
      <h2 id="guide-header-calculations">
        All Calculations
      </h2>
      <details class="guide-header-description">
        <summary>Placeholder for definition text that will always be visible.
          <span id="opener">More</span>
        </summary>
        Hidden definition text that will be revealed when MORE is clicked and hidden when LESS is clicked.
        <span id="closer" onclick="this.parentElement.removeAttribute('open')">Less</span>
      </details>
    </div>
  </div>
  <div class="container px-0 mt-4 d-flex flex-wrap justify-content-between">
    {{ range .guides.calculations.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div id="load-more-container-calculation" class="my-4 text-center">
    <a id="load-more-calculations" class="btn btn-dark" onclick="loadMoreGuides(CALCULATIONS)">Load More Calculations</a>
  </div>
</section>
<!-- MEASUREMENT TECHNIQUES -->
<section id="textMeasurements" class="tabcontent">
  <div class="search-header container d-flex justify-content-between mt-4">
    <div>
      <h2 id="guide-header-measurements">
        All Measurements
      </h2>
      <details class="guide-header-description">
        <summary>Placeholder for definition text that will always be visible.
          <span id="opener">More</span>
        </summary>
        Hidden definition text that will be revealed when MORE is clicked and hidden when LESS is clicked.
        <span id="closer" onclick="this.parentElement.removeAttribute('open')">Less</span>
      </details>
    </div>
  </div>
  <div class="container px-0 mt-4 d-flex flex-wrap justify-content-between">
    {{ range .guides.measurements.documents }}
      {{ $guideTitle := .title }}
      {{ $guideId := replace (urlize .title | lower) " " "-" }}
      {{ $guideType := .type }}
      <div 
        id="{{ .type }}-{{ .id }}" 
        class="
            col-md-12
            col-lg-6 
            guide-card 
            {{ .measurement_type }}
          "
      >
        {{ range $pages }}
          {{ if eq .Title $guideTitle }}
          {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
          {{ end }}
        {{ end }}
      </div>
    {{ end }}
  </div>
  <div id="load-more-container-measurement" class="my-4 text-center">
    <a id="load-more-calculations" class="btn btn-dark" onclick="loadMoreGuides(MEASUREMENTS)">Load More Measurements</a>
  </div>
</section>

<script src="/js/guides.js"></script>
<script>
  filterPlantGuides();
  filterSystemGuides();
  filterComponentGuides();
  filterCalculations();
  filterMeasurements();
</script>