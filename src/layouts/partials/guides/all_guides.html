{{ $pages := .pages }}
<!-- PLANT GUIDES -->
{{ $displayed_plants := 0 }}
<section id="textPlants" class="tabcontent">
  <div class="search-header container px-0 d-flex justify-content-between" style="margin-top: 3rem;">
    <div>
      <h2 id="guide-header-plants">
        All Plants
      </h2>
    </div>
  </div>
  <div class="container px-0 mt-5 d-flex flex-wrap justify-content-between">
    {{ range .guides.plants.documents }}
      {{ $guideTitle := .title }}
      {{ $guideId := replace (urlize .title | lower) " " "-" }}
      {{ $guideType := .type }}
      <div 
        id="{{ $guideType }}-{{ $guideId }}" 
        class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
      >
      {{ range $pages }}
        {{ if eq .Title $guideTitle }}
          {{ $displayed_plants = add $displayed_plants 1 }}
          {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType) }}
        {{ end }}
      {{ end }}
      </div>
    {{ end }}
  </div>
  <div class="my-4 text-center">
    {{ gt $displayed_plants 6 }}
    <a id="load-more-plants" class="btn btn-dark" onclick="loadMoreGuides(PLANTS)">Load More Plants</a>
  </div>
</section>
<!-- SYSTEM GUIDES -->
<section id="textSystems" class="tabcontent">
  <div class="search-header container px-0 d-flex justify-content-between" style="margin-top: 3rem;">
    <div>
      <h2 id="guide-header-systems">
        All Systems
      </h2>
    </div>
  </div>
  <div class="container px-0 mt-5 d-flex flex-wrap justify-content-between">
    {{ range .guides.systems.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div class="my-4 text-center">
    <a id="load-more-systems" class="btn btn-dark" onclick="loadMoreGuides(SYSTEMS)">Load More Systems</a>
  </div>
</section>
<!-- COMPONENT GUIDES -->
<section id="textComponents" class="tabcontent">
  <div class="search-header container px-0 d-flex justify-content-between" style="margin-top: 3rem;">
    <div>
      <h2 id="guide-header-components">
        All Components
      </h2>
    </div>
  </div>
  <div class="container px-0 mt-5 d-flex flex-wrap justify-content-between">
    {{ range .guides.components.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div class="my-4 text-center">
    <a id="load-more-components" class="btn btn-dark" onclick="loadMoreGuides(COMPONENTS)">Load More Components</a>
  </div>
</section>
<!-- CALCULATION METHODOLOGIES -->
<section id="textCalculations" class="tabcontent">
  <div class="search-header container px-0 d-flex justify-content-between" style="margin-top: 3rem;">
    <div>
      <h2 id="guide-header-calculations">
        All Calculation Methodologies
      </h2>
    </div>
  </div>
  <div class="container px-0 mt-5 d-flex flex-wrap justify-content-between">
    {{ range .guides.calculations.documents }}
    {{ $guideTitle := .title }}
    {{ $guideId := replace (urlize .title | lower) " " "-" }}
    {{ $guideType := .type }}
    <div 
      id="{{ .type }}-{{ .id }}" 
      class="
          col-md-12
          col-lg-6 
          guide-card 
          {{ .measurement_type }}
        "
    >
    {{ range $pages }}
    {{ if eq .Title $guideTitle }}
    {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
    {{ end }}
  {{ end }}
    </div>
    {{ end }}
  </div>
  <div class="my-4 text-center">
    <a id="load-more-calculations" class="btn btn-dark" onclick="loadMoreGuides(CALCULATIONS)">Load More Calculation Methodologies</a>
  </div>
</section>
<!-- MEASUREMENT TECHNIQUES -->
<section id="textMeasurements" class="tabcontent">
  <div class="search-header container px-0 d-flex justify-content-between" style="margin-top: 3rem;">
    <div>
      <h2 id="guide-header-measurements">
        All Measurement Techniques
      </h2>
    </div>
  </div>
  <div class="container px-0 mt-5 d-flex flex-wrap justify-content-between">
    {{ range .guides.measurements.documents }}
      {{ $guideTitle := .title }}
      {{ $guideId := replace (urlize .title | lower) " " "-" }}
      {{ $guideType := .type }}
      <div 
        id="{{ .type }}-{{ .id }}" 
        class="
            col-md-12
            col-lg-6 
            guide-card 
            {{ .measurement_type }}
          "
      >
        {{ range $pages }}
          {{ if eq .Title $guideTitle }}
          {{ partial "thumbnail/guide.html" (dict "params" .Params "page_title" .Title "page_content" .Content "page_url" .RelPermalink "pages" $pages "guide_id" $guideId "guide_type" $guideType  ) }}
          {{ end }}
        {{ end }}
      </div>
    {{ end }}
  </div>
  <div class="my-4 text-center">
    <a id="load-more-calculations" class="btn btn-dark" onclick="loadMoreGuides(MEASUREMENTS)">Load More Measurement Techniques</a>
  </div>
</section>

<script src="/js/guides.js"></script>
<script>
  filterPlantGuides();
  filterSystemGuides();
  filterComponentGuides();
  filterCalculations();
  filterMeasurements();
</script>