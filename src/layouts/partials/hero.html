{{ with .Site.Data.hero }} {{ if .enable }}
<section class="hero" id="home" style="z-index: 9999999;">
  <div class="container-fluid hero_container">
    <div class="content align-items-center text-center" style="height: inherit">
      <img src="{{ .background_img | absURL }}" class="img-fluid plant-logo-top-left" alt="Electric plant logo">
      <img src="{{ .background_img | absURL }}" class="img-fluid plant-logo-bottom-left" alt="Electric plant logo">
      <div class="col-md-12">
        <div class="hero_content text-center">
          <div class="container content-text px-5">{{ .content | markdownify }}</div>
          <div class="hero_content-search-bar">
            <form action="#" class="mb-0" onsubmit="doSearchGuides(guideSearchBarId);return false">
              <input id="guide-search-bar" type="search" placeholder="Search a plant, system or component">
              <button id="dropdown-trigger" onclick="toggleDropdown()" type="button" class="btn btn-link px-1">
                <i id="dropdown-icon" class="fa fa-chevron-down"></i>
              </button>
              <button type="submit">Search</button>
            </form>
            <div class="hero_content-search-bar-dropdown-options shadow">
              {{ range $.Site.Data.search_keywords.terms }}
                <div 
                  class="text-dark py-1"
                  onclick="searchPredefinedFilter({{ .name }})"
                >
                  {{ .name }}
                </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
      <img src="{{ .background_img | absURL }}" class="img-fluid plant-logo-top-right" alt="Electric plant logo">
      <img src="{{ .background_img | absURL }}" class="img-fluid plant-logo-bottom-right" alt="Electric plant logo">
    </div>
  </div>
</section>
{{ end }} {{ end }}

{{ partial "sub_nav/horizontal_nav.html" (dict "data" .Site.Data "pages" .Site.RegularPages) }}


<script src="/js/guides.js"></script>
<script>
  const guideSearchBarId = 'guide-search-bar';
  hideSearchResults()
  function toggleDropdown() {
    if ($('.hero_content-search-bar-dropdown-options').css('display') == 'none') {
      $('#dropdown-icon').removeClass('fa-chevron-down')
      $('.hero_content-search-bar-dropdown-options').css('display', 'flex');
      $('#dropdown-icon').addClass('fa-chevron-up')
    } else {
      $('#dropdown-icon').removeClass('fa-chevron-up')
      $('.hero_content-search-bar-dropdown-options').css('display', 'none');
      $('#dropdown-icon').addClass('fa-chevron-down')
    }
  }
  function searchPredefinedFilter(keyword) {
    $('#guide-search-bar').val(keyword);
    doSearchGuides(guideSearchBarId);
    toggleDropdown();
  }
</script>